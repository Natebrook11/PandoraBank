<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>CodePen - Dark UI - Bank dashboard concept</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="./style.css">

</head>

<body>
  <!-- partial:index.partial.html -->
  <div class="app">
    <header class="app-header">
      <div class="app-header-logo">
        <div class="logo">
          <span class="logo-icon">
            <img src="https://assets.codepen.io/285131/almeria-logo.svg" />
          </span>
          <h1 class="logo-title">
            <span>BarryBank</span>
            <span>Pandora.</span>
          </h1>
        </div>
      </div>
    </header>
    <div class="app-body">
      <div class="app-body-navigation">
        <nav class="navigation">
          <a href="#">
            <i class="ph-browsers"></i>
            <span>Dashboard</span>
          </a>
          <a href="#">
            <i class="ph-check-square"></i>
            <span>Challenges</span>
          </a>
          <a href="#">
            <i class="ph-swap"></i>
            <span>Buy Coins</span>
          </a>
          <a href="#">
            <i class="ph-file-text"></i>
            <span></span>
          </a>
          <a href="#">
            <i class="ph-globe"></i>
            <span>SWIFT</span>
          </a>
          <a href="#">
            <i class="ph-clipboard-text"></i>
            <span>Exchange</span>
          </a>
        </nav>
        <footer class="footer">
          <h1>Pandora.<small>Â©</small></h1>
          <div>
             BrookX Â©<br />
            All Rights Reserved 2023
          </div>
        </footer>
      </div>
      <div class="app-body-main-content">
        <section class="service-section">
          <h2 id="total">Total: 0 ðŸª™</h2>
          <h1 id="userId">Your-Id </h1>
          <button onclick="copyToClipboard('user')" class="copy">
            <span data-text-end="Copied!" data-text-initial="Copy to clipboard" class="tooltip"></span>
            <span >
              <svg xml:space="preserve" style="enable-background:new 0 0 512 512" viewBox="0 0 6.35 6.35" y="0" x="0" height="20" width="20" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xmlns="http://www.w3.org/2000/svg" class="clipboard">
                <g>
                  <path fill="currentColor" d="M2.43.265c-.3 0-.548.236-.573.53h-.328a.74.74 0 0 0-.735.734v3.822a.74.74 0 0 0 .735.734H4.82a.74.74 0 0 0 .735-.734V1.529a.74.74 0 0 0-.735-.735h-.328a.58.58 0 0 0-.573-.53zm0 .529h1.49c.032 0 .049.017.049.049v.431c0 .032-.017.049-.049.049H2.43c-.032 0-.05-.017-.05-.049V.843c0-.032.018-.05.05-.05zm-.901.53h.328c.026.292.274.528.573.528h1.49a.58.58 0 0 0 .573-.529h.328a.2.2 0 0 1 .206.206v3.822a.2.2 0 0 1-.206.205H1.53a.2.2 0 0 1-.206-.205V1.529a.2.2 0 0 1 .206-.206z"></path>
                </g>
              </svg>
              <svg xml:space="preserve" style="enable-background:new 0 0 512 512" viewBox="0 0 24 24" y="0" x="0" height="18" width="18" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xmlns="http://www.w3.org/2000/svg" class="checkmark">
                <g>
                  <path data-original="#000000" fill="currentColor" d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"></path>
                </g>
              </svg>
            </span>
          </button>
          <div class="item button-parrot" style="--bg-color: #2c3e50">
            <button>Challenges
              <div class="parrot"></div>
              <div class="parrot"></div>
              <div class="parrot"></div>
              <div class="parrot"></div>
              <div class="parrot"></div>
              <div class="parrot"></div>
            </button>
          </div>
          <div class="tiles">
            <article class="tile">
              <div class="tile-header">
                <i class="ph-lightning-light"></i>
                <h3>
                  <span>Earn 150 BarryCoins simply by inviting your friends! </span>
                  <span>Pandora. Inc.</span>
                </h3>
              </div>
              <a href="#">
                <span>Get 150 Coins Free</span>
                <span class="icon-button">
                  <i class="ph-caret-right-bold"></i>
                </span>
              </a>
            </article>
            <article class="tile">
              <div class="tile-header">
                <i class="ph-fire-simple-light"></i>
                <h3>
                  <span>Buy More Coins</span>
                  <span>Pandora. Inc.</span>
                </h3>
              </div>
              <a href="#">
                <span>Buy now!</span>
                <span class="icon-button">
                  <i class="ph-caret-right-bold"></i>
                </span>
              </a>
            </article>
            <article class="tile">
              <div class="tile-header">
                <i class="ph-file-light"></i>
                <h3>
                  <span>Tax online</span>
                  <span>Pandora. Inc.</span>
                </h3>
              </div>
              <a href="#">
                <span>Go to service</span>
                <span class="icon-button">
                  <i class="ph-caret-right-bold"></i>
                </span>
              </a>
            </article>
          </div>
          <div class="service-section-footer">
            <p>Services are paid according to the current state of the currency and tariff.</p>
          </div>
        </section>
        <section class="transfer-section">
          <div class="transfer-section-header">
            <h2>Transactions</h2>
            <div class="filter-options">
              <span style="margin-right: 10px;">Send Coins</span>
              <button onclick="show('transfer')" class="icon-button">
                <i class="ph-plus"></i>
              </button>
            </div>
          </div>
          <div id="transfer" class=" transfer-box hide">


            <input type="text" id="receiver" name="receiver" placeholder="Receiver" required><br><br>

            <input type="number" id="amount" name="amount" placeholder="Amount" required><br><br>

            <input onclick="transfer()" type="submit" value="Transfer">
          </div>
        </section>
      </div>
      <!-- <div class="app-body-sidebar">
        <section class="payment-section">
          <h2>New Payment</h2>
          <div class="payment-section-header">
            <p>Choose a card to transfer money</p>
            <div>
              <button class="card-button mastercard">
                <svg width="2001" height="1237" viewBox="0 0 2001 1237" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g id="a624784f2834e21c94a1c0c9a58bbbaa">
                    <path id="7869b07bea546aa59a5ee138adbcfd5a"
                      d="M1270.57 1104.15H729.71V132.15H1270.58L1270.57 1104.15Z" fill="currentColor"></path>
                    <path id="b54e3ab4d7044a9f288082bc6b864ae6"
                      d="M764 618.17C764 421 856.32 245.36 1000.08 132.17C891.261 46.3647 756.669 -0.204758 618.09 9.6031e-07C276.72 9.6031e-07 0 276.76 0 618.17C0 959.58 276.72 1236.34 618.09 1236.34C756.672 1236.55 891.268 1189.98 1000.09 1104.17C856.34 991 764 815.35 764 618.17Z"
                      fill="currentColor"></path>
                    <path id="67f94b4d1b83252a6619ed6e0cc0a3a1"
                      d="M2000.25 618.17C2000.25 959.58 1723.53 1236.34 1382.16 1236.34C1243.56 1236.54 1108.95 1189.97 1000.11 1104.17C1143.91 990.98 1236.23 815.35 1236.23 618.17C1236.23 420.99 1143.91 245.36 1000.11 132.17C1108.95 46.3673 1243.56 -0.201169 1382.15 -2.24915e-05C1723.52 -2.24915e-05 2000.24 276.76 2000.24 618.17"
                      fill="currentColor"></path>
                  </g>
                </svg>
              </button>
              <button class="card-button visa active">
                <svg xmlns="http://www.w3.org/2000/svg" width="2500" height="2500" viewBox="0 0 141.732 141.732">
                  <g fill="currentColor">
                    <path
                      d="M62.935 89.571h-9.733l6.083-37.384h9.734zM45.014 52.187L35.735 77.9l-1.098-5.537.001.002-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s4.691.976 10.181 4.273l8.456 32.479h10.141l15.485-37.385H45.014zM121.569 89.571h8.937l-7.792-37.385h-7.824c-3.613 0-4.493 2.786-4.493 2.786L95.881 89.571h10.146l2.029-5.553h12.373l1.14 5.553zm-10.71-13.224l5.114-13.99 2.877 13.99h-7.991zM96.642 61.177l1.389-8.028s-4.286-1.63-8.754-1.63c-4.83 0-16.3 2.111-16.3 12.376 0 9.658 13.462 9.778 13.462 14.851s-12.075 4.164-16.06.965l-1.447 8.394s4.346 2.111 10.986 2.111c6.642 0 16.662-3.439 16.662-12.799 0-9.72-13.583-10.625-13.583-14.851.001-4.227 9.48-3.684 13.645-1.389z" />
                  </g>
                  <path
                    d="M34.638 72.364l-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s7.373 1.528 14.445 7.253c6.762 5.472 8.967 12.292 8.967 12.292z"
                    fill="currentColor" />
                  <path fill="none" d="M0 0h141.732v141.732H0z" />
                </svg>
              </button>
            </div>
          </div>
          <div class="payments">
            <div class="payment">
              <div class="card green">
                <span>01/22</span>
                <span>
                  â€¢â€¢â€¢â€¢ 4012
                </span>
              </div>
              <div class="payment-details">
                <h3>Internet</h3>
                <div>
                  <span>$ 2,110</span>
                  <button class="icon-button">
                    <i class="ph-caret-right-bold"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="payment">
              <div class="card olive">
                <span>12/23</span>
                <span>
                  â€¢â€¢â€¢â€¢ 2228
                </span>
              </div>
              <div class="payment-details">
                <h3>Universal</h3>
                <div>
                  <span>$ 5,621</span>
                  <button class="icon-button">
                    <i class="ph-caret-right-bold"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="payment">
              <div class="card gray">
                <span>03/22</span>
                <span>
                  â€¢â€¢â€¢â€¢ 5214
                </span>
              </div>
              <div class="payment-details">
                <h3>Gold</h3>
                <div>
                  <span>$ 3,473</span>
                  <button class="icon-button">
                    <i class="ph-caret-right-bold"></i>
                  </button>
                </div>
              </div>
            </div>
          </div> -->
          <!-- <div class="faq">
            <p>Most frequently asked questions</p>
            <div>
              <label>Question</label>
              <input type="text" placeholder="Type here">
            </div>
          </div> -->
          <!-- <div class="payment-section-footer">
            <button class="save-button">
              Save
            </button>
            <button class="settings-button">
              <i class="ph-gear"></i>
              <span>More settings</span>
            </button>
          </div> -->
        <!-- </section> -->
      </div>
    </div>



  </div>
  <!-- partial -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Add jQuery library -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCN4KB82aEF-f1jQsu_41Os_QcMH9EAqhA",
      authDomain: "brookx3-73468.firebaseapp.com",
      databaseURL: "https://brookx3-73468-default-rtdb.firebaseio.com",
      projectId: "brookx3-73468",
      storageBucket: "brookx3-73468.appspot.com",
      messagingSenderId: "1004382599882",
      appId: "1:1004382599882:web:ddc82414810326d2855233"
    };
    firebase.initializeApp(firebaseConfig);

    // Get a reference to the database service
    var database = firebase.database();

    var value = localStorage.getItem("user");

    var senderRef = firebase.database().ref('users/' + value + '/total');
    var receiverRef = firebase.database().ref('users/');

    // Get a reference to the HTML elements
    var countDisplay = $('#total');
    var incrementBtn = $('#increment-btn');

    window.addEventListener('load', console.log(localStorage.getItem('user')));


    // Display the current count and animate the count increase from 0 to the current value
    senderRef.once('value', function (snapshot) {
      var count = snapshot.val();
      localStorage.setItem('count', count)
      countDisplay.prop('Counter', 0).animate({ Counter: count }, {
        duration: 1000,
        easing: 'swing',
        step: function (now) {
          localStorage.setItem('count', count)
          countDisplay.text('Total: ' + Math.ceil(now).toLocaleString() + ' ðŸª™'); // Add locale string to the count
        }
      })
    });

    function show(value) {
      document.getElementById(value).classList.toggle('show');
    }

    window.addEventListener('load', document.getElementById('userId').innerHTML = 'Your ID : ' + localStorage.getItem('user'));


    // Always update the count when there are changes
    senderRef.on('value', function (snapshot) {
      var count = snapshot.val();
      var countlocal = 'Total: ' + count.toLocaleString() + 'ðŸª™';
      countDisplay.text(countlocal); // Add locale string to the count
    });
    function transfer() {
      const sender = localStorage.getItem("user");
      const receiver = document.getElementById('receiver').value;
      const amount = parseInt(document.getElementById('amount').value);

      // Check if the sender has sufficient balance
      senderRef.once('value', function (snapshot) {
        var senderBalance = snapshot.val();
        if (senderBalance >= amount) {
          // Deduct the amount from the sender's account
          senderRef.set(senderBalance - amount);

          // Add the amount to the receiver's account
          receiverRef.child(receiver + '/total').once('value', function (snapshot) {
            var receiverBalance = snapshot.val();
            receiverRef.child(receiver + '/total').set(receiverBalance + amount);
          });

          alert('Amount transferred successfully!');
        } else {
          alert('Insufficient balance!');
        }
      });
    }


    function copyToClipboard(text) {
  const localStorageItem = text;
  const textToCopy = localStorage.getItem(localStorageItem);

  if (textToCopy) {
    const input = document.createElement('textarea');
    input.value = textToCopy;
    document.body.appendChild(input);

    input.select();
    input.setSelectionRange(0, 99999); // For mobile devices

    document.execCommand('copy');

    document.body.removeChild(input);

    const copyButton = document.querySelector('.copy');
    copyButton.classList.add('clicked');
    setTimeout(function() {
      copyButton.classList.remove('clicked');
    }, 5000);

  } else {
    alert('No text found in localStorage item: ' + localStorageItem);
  }
}

  </script>
  <!-- partial -->
  <script src='https://unpkg.com/phosphor-icons'></script>
  <script src="./script.js"></script>

</body>

</html>